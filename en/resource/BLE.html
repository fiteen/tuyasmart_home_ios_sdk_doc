
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Single BLE Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="BLE.html" />
    
    
    <link rel="prev" href="SmartScene.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Overview.html">
            
                <a href="Overview.html">
            
                    
                    Function Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Preparation.html">
            
                <a href="Preparation.html">
            
                    
                    Preparation Work
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Initiate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="Demo.html">
            
                <a href="Demo.html">
            
                    
                    Demo App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="iOSAdaptation.html">
            
                <a href="iOSAdaptation.html">
            
                    
                    iOS Adaptation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="User.html">
            
                <a href="User.html#user-management">
            
                    
                    User Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="User.html">
            
                <a href="User.html#use-mobile-phone-for-login">
            
                    
                    Use Mobile Phone for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="User.html">
            
                <a href="User.html#use-email-for-login">
            
                    
                    Use Email for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="User.html">
            
                <a href="User.html#use-uid-for-login">
            
                    
                    Use Uid for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="User.html">
            
                <a href="User.html#third-party-login">
            
                    
                    Third Party Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="User.html">
            
                <a href="User.html#login-by-auth2">
            
                    
                    Login by Auth2(Login with Apple)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="User.html">
            
                <a href="User.html#modify-user-avatar">
            
                    
                    Modify User Info
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="User.html">
            
                <a href="User.html#logout">
            
                    
                    Logout, Disable Account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="User.html">
            
                <a href="User.html#handling-of-expired-session">
            
                    
                    Handling of Expired Session
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="HomeAbout.html">
            
                <a href="HomeAbout.html">
            
                    
                    Home Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="Home.html">
            
                <a href="Home.html#home-relationship-management">
            
                    
                    Home Relationship Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="Home.html">
            
                <a href="Home.html#home-information-management">
            
                    
                    Operation of Home
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="Home.html">
            
                <a href="Home.html#member-management">
            
                    
                    Home Member Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="Home.html">
            
                <a href="Home.html#room-information-management">
            
                    
                    Room Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="Home.html">
            
                <a href="Home.html#home-weather">
            
                    
                    Home's Weather
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="Activator.html">
            
                <a href="Activator.html#network-configuration">
            
                    
                    Network Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="Activator.html">
            
                <a href="Activator.html#quick-connection-mode">
            
                    
                    Quick Connection Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="Activator.html">
            
                <a href="Activator.html#hotspot-mode">
            
                    
                    HotSpot Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="Activator.html">
            
                <a href="Activator.html#wired-network-configuration">
            
                    
                    Wired Network Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="Activator.html">
            
                <a href="Activator.html#activate-the-sub-device">
            
                    
                    Activate the Sub-Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="Activator.html">
            
                <a href="Activator.html#qr-code-mode">
            
                    
                    QR code mode
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="Device.html">
            
                <a href="Device.html#device-management">
            
                    
                    Device Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="Device.html">
            
                <a href="Device.html#update-device-information">
            
                    
                    Update Device Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="Device.html">
            
                <a href="Device.html#device-control">
            
                    
                    Device Control
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.1" data-path="Device.html">
            
                <a href="Device.html#standard-device-control-beta">
            
                    
                    Standard Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.2" data-path="Device.html">
            
                <a href="Device.html#custom-device-control">
            
                    
                    Custom Device Control
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="Device.html">
            
                <a href="Device.html#modify-the-device-name">
            
                    
                    Modify the Device Name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="Device.html">
            
                <a href="Device.html#remove-device">
            
                    
                    Remove Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="Device.html">
            
                <a href="Device.html#restore-factory-settings">
            
                    
                    Restore Factory Settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="Device.html">
            
                <a href="Device.html#obtain-wi-fi-signal-strength-of-device">
            
                    
                    Obtain Wi-Fi Signal Strength of Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="Device.html">
            
                <a href="Device.html#obtain-the-sub-device-list-of-a-gateway">
            
                    
                    Obtain the Sub-Device List of a Gateway
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="Device.html">
            
                <a href="Device.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="Share.html">
            
                <a href="Share.html#shared-devices">
            
                    
                    Share Devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="Share.html">
            
                <a href="Share.html#add-device-share">
            
                    
                    Add Device Share
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="Share.html">
            
                <a href="Share.html#getting-shared-relationships">
            
                    
                    Getting Shared Relationships
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="Share.html">
            
                <a href="Share.html#remove-sharing">
            
                    
                    Remove Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="Share.html">
            
                <a href="Share.html#modify-note-name">
            
                    
                    Modify Note Name
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="Timer.html">
            
                <a href="Timer.html">
            
                    
                    Timer Task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="Group.html">
            
                <a href="Group.html">
            
                    
                    Group Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="SmartSceneAbout.html">
            
                <a href="SmartSceneAbout.html">
            
                    
                    Smart Scene
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="SmartScene.html">
            
                <a href="SmartScene.html#smart-scene-management">
            
                    
                    Smart Scene Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="SmartScene.html">
            
                <a href="SmartScene.html#scene-operation">
            
                    
                    Scene Operation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="BLE.html">
            
                <a href="BLE.html#single-ble">
            
                    
                    Single BLE
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="BLE.html">
            
                <a href="BLE.html#bluetooth-status-monitor">
            
                    
                    Bluetooth Status Monitor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="BLE.html">
            
                <a href="BLE.html#ble-device-scan">
            
                    
                    Bluetooth Scan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="BLE.html">
            
                <a href="BLE.html#active-device">
            
                    
                    Active Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.4" data-path="BLE.html">
            
                <a href="BLE.html#ble-device-ota-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.5" data-path="BLE.html">
            
                <a href="BLE.html#query-device-name">
            
                    
                    Query Device Name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.6" data-path="BLE.html">
            
                <a href="BLE.html#device-dp-publish">
            
                    
                    Device DP Publish
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.7" data-path="BLE.html">
            
                <a href="BLE.html#dual-mode-device-scan">
            
                    
                    Dual Mode Scan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.8" data-path="BLE.html">
            
                <a href="BLE.html#dual-mode-device-active">
            
                    
                    Dual Mode Active
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#bluetooth-mesh-sdk-guide">
            
                    
                    Bluetooth Mesh(SIG)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#introduction">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#management">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#configuration">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.4" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#mesh-device">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.5" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#mesh-group">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.6" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#mesh-control">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.7" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="Mesh.html">
            
                <a href="Mesh.html#bluetooth-meshtuya-sdk-guide">
            
                    
                    Bluetooth Mesh(TUYA)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="Mesh.html">
            
                <a href="Mesh.html#basic-notion">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2" data-path="Mesh.html">
            
                <a href="Mesh.html#management">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3" data-path="Mesh.html">
            
                <a href="Mesh.html#configuration">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4" data-path="Mesh.html">
            
                <a href="Mesh.html#mesh-device">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.5" data-path="Mesh.html">
            
                <a href="Mesh.html#mesh-group">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.6" data-path="Mesh.html">
            
                <a href="Mesh.html#mesh-control">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.7" data-path="Mesh.html">
            
                <a href="Mesh.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="Message.html">
            
                <a href="Message.html#message-center">
            
                    
                    Message Center
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="Message.html">
            
                <a href="Message.html#function-overview">
            
                    
                    Function Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="Message.html">
            
                <a href="Message.html#message">
            
                    
                    Message
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.3" data-path="Message.html">
            
                <a href="Message.html#push-notification">
            
                    
                    Push Notification
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="Feedback.html">
            
                <a href="Feedback.html#feedback">
            
                    
                    Feedback
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-talk-list">
            
                    
                    Obtain Feedback Talk List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.2" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-list">
            
                    
                    Obtain Feedback List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.3" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-type-list">
            
                    
                    Obtain Feedback Type List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.4" data-path="Feedback.html">
            
                <a href="Feedback.html#add-feedback">
            
                    
                    Add Feedback
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="CommonInterface.html">
            
                <a href="CommonInterface.html">
            
                    
                    Common Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="Push.html">
            
                <a href="Push.html">
            
                    
                    Register PushId
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22" >
            
                <a target="_blank" href="https://tuyainc.github.io/tuyasmart_home_ios_sdk_api_reference/index.html">
            
                    
                    API Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23" data-path="Faq.html">
            
                <a href="Faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24" data-path="ChangeLog.html">
            
                <a href="ChangeLog.html">
            
                    
                    ChangeLog
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Single BLE</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><ul><li><span class="title-icon "></span><a href="#guidelines-for-single-ble-sdk"><b>1.1. </b>Guidelines for Single BLE SDK</a></li><ul><li><span class="title-icon "></span><a href="#single-ble-introduce"><b>1.1.1. </b>Single BLE Introduce</a></li><li><span class="title-icon "></span><a href="#preparatory-work"><b>1.1.2. </b>Preparatory Work</a></li></ul><li><span class="title-icon "></span><a href="#ble-device-management"><b>1.2. </b>BLE Device Management</a></li><li><span class="title-icon "></span><a href="#dual-mode-device-activator"><b>1.3. </b>Dual Mode Device Activator</a></li></ul></ul></div><h2 id="guidelines-for-single-ble-sdk"><a name="guidelines-for-single-ble-sdk" class="anchor-navigation-ex-anchor" href="#guidelines-for-single-ble-sdk"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Guidelines for Single BLE SDK</h2>
<h3 id="single-ble-introduce"><a name="single-ble-introduce" class="anchor-navigation-ex-anchor" href="#single-ble-introduce"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.1. Single BLE Introduce</h3>
<p>Single BLE Device is a devcie that able to <strong>one-to-one connect to smart phone by bluetooth</strong>&#x3002;Such as Bluetooth bracelet, Bluetooth headset, Bluetooth speaker, etc. Each device can connect to one smart phone by bluetooth at most at the same time&#xFF0C;At present, <strong>the number of bluetooth connections for each mobile phone terminal is controlled within 6 ~ 7</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">Class Name</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">TuyaSmartBLEManager</td>
<td style="text-align:center">BLE device class</td>
</tr>
<tr>
<td style="text-align:center">TuyaSmartBLEWifiActivator</td>
<td style="text-align:center">Dual mode device class</td>
</tr>
</tbody>
</table>
<p><code>TuyaSmartBLEManager</code> contains all the features of the BLE SDK&#xFF0C;Includes Bluetooth status monitor, ble device scan, query ble device name, ble device activator, device OTA upgrade, etc.</p>
<p><code>TuyaSmartBLEWifiActivator</code>  supports dual mode device activator</p>
<h3 id="preparatory-work"><a name="preparatory-work" class="anchor-navigation-ex-anchor" href="#preparatory-work"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.2. Preparatory Work</h3>
<p>Tuya iOS Single BLE SDK &#xFF08; Hereinafter referred to as BLE SDK or Single BLE SDK &#xFF09;&#xFF0C;is developed on the basis of <a href="https://tuyainc.github.io/tuyasmart_home_ios_sdk_doc/en/" target="_blank">TuyaSmart SDK</a></p>
<h2 id="ble-device-management"><a name="ble-device-management" class="anchor-navigation-ex-anchor" href="#ble-device-management"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. BLE Device Management</h2>
<h4 id="bluetooth-status-monitor"><a name="bluetooth-status-monitor" class="anchor-navigation-ex-anchor" href="#bluetooth-status-monitor"><i class="fa fa-link" aria-hidden="true"></i></a><a name="bluetooth-status-monitor" class="plugin-anchor" href="#bluetooth-status-monitor"><i class="fa fa-link" aria-hidden="true"></i></a>Bluetooth Status Monitor</h4>
<p><strong>Declaration</strong></p>
<p>BLE SDK provides the method of Bluetooth status monitor&#xFF0C;while bluetooth state changing &#xFF08;turn on or turn off &#xFF09;&#xFF0C;you can receive the notification by setting delegate</p>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token comment">// Set delegate</span>
<span class="token punctuation">[</span>TuyaSmartBLEManager sharedInstance<span class="token punctuation">]</span><span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">;</span>


<span class="token comment">/**
 * Notification of bluetooth state change
 *
 * @param isPoweredOn   bluetooth state&#xFF0C;turn on or turn off  
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>bluetoothDidUpdateState<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>isPoweredOn <span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;bluetooth state: %d&quot;</span><span class="token punctuation">,</span> isPoweredOn <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token comment">// Set delegate</span>
<span class="token builtin">TuyaSmartBLEManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span>

<span class="token comment">/**
  * Notification of bluetooth state change
  *
  * @param isPoweredOn   bluetooth state&#xFF0C;turn on or turn off  
 */</span>
<span class="token keyword">func</span> <span class="token function">bluetoothDidUpdateState</span><span class="token punctuation">(</span><span class="token number">_</span> isPoweredOn<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;bluetooth state: <span class="token interpolation"><span class="token delimiter variable">\(</span>isPoweredOn <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="ble-device-scan"><a name="ble-device-scan" class="anchor-navigation-ex-anchor" href="#ble-device-scan"><i class="fa fa-link" aria-hidden="true"></i></a><a name="ble-device-scan" class="plugin-anchor" href="#ble-device-scan"><i class="fa fa-link" aria-hidden="true"></i></a>BLE Device Scan</h4>
<p><strong>Declaration</strong></p>
<p>The BLE device to be active will continuously send Bluetooth broadcast packets to the surrounding area, and the client can discover these broadcast packet, BLE SDK will filter the target device by the rule of Tuya BLE device information in the broadcast packet</p>
<pre class="language-"><code class="lang-objective-c"><span class="token comment">/**
 * Start scan
 *
 * @param clearCache   wheather clean up the caches of scaned devices 
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>startListening<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>clearCache<span class="token punctuation">;</span>

<span class="token comment">/**
 * Stop scan
 *
 * @param clearCache   wheather clean up the caches of scaned devices 
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>stopListening<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>clearCache<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>clearCache</td>
<td>Wheather clean up the caches of scaned devices</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token comment">// Set delegate</span>
<span class="token punctuation">[</span>TuyaSmartBLEManager sharedInstance<span class="token punctuation">]</span><span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">;</span>
<span class="token comment">// Start scan</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartBLEManager sharedInstance<span class="token punctuation">]</span> startListening<span class="token punctuation">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>


<span class="token comment">/**
 * The inactive device that discovered
 *
 * @param deviceInfo     inactive device Model 
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>didDiscoveryDeviceWithDeviceInfo<span class="token punctuation">:</span><span class="token punctuation">(</span>TYBLEAdvModel <span class="token operator">*</span><span class="token punctuation">)</span>deviceInfo <span class="token punctuation">{</span>
    <span class="token comment">// scaned inactive device successfully</span>
    <span class="token comment">// if the device has actived&#xFF0C;it will not in this callback&#xFF0C;BLE SDK will connect and active this device automatically</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token comment">// set delegate</span>
<span class="token builtin">TuyaSmartBLEManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span>
<span class="token comment">// Start scan</span>
<span class="token builtin">TuyaSmartBLEManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startListening</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * The inactive device that discovered
 * 
 * @param deviceInfo     inactive device Model 
 */</span>
<span class="token keyword">func</span> <span class="token function">didDiscoveryDevice</span><span class="token punctuation">(</span>withDeviceInfo deviceInfo<span class="token punctuation">:</span> <span class="token builtin">TYBLEAdvModel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// scaned inactive device successfully</span>
    <span class="token comment">// if the device has actived&#xFF0C;it will not in this callback&#xFF0C;BLE SDK will connect and active this device automatically</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="active-device"><a name="active-device" class="anchor-navigation-ex-anchor" href="#active-device"><i class="fa fa-link" aria-hidden="true"></i></a><a name="active-device" class="plugin-anchor" href="#active-device"><i class="fa fa-link" aria-hidden="true"></i></a>Active Device</h4>
<p><strong>Declaration</strong></p>
<p>After scanning an inactive device, the device can be activated and registered to the Tuya cloud</p>
<pre class="language-"><code class="lang-objective-c"><span class="token comment">/**
 * Active device
 * The activation process will register device to the tuya cloud
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>activeBLE<span class="token punctuation">:</span><span class="token punctuation">(</span>TYBLEAdvModel <span class="token operator">*</span><span class="token punctuation">)</span>deviceInfo
           homeId<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span>homeId
          success<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>TuyaSmartDeviceModel <span class="token operator">*</span>deviceModel<span class="token punctuation">)</span><span class="token punctuation">)</span>success
          failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureHandler<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>deviceInfo</td>
<td>Device Model&#xFF0C;is from the delegate of scan method</td>
</tr>
<tr>
<td>homeId</td>
<td>Currect home Id</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartBLEManager sharedInstance<span class="token punctuation">]</span> activeBLE<span class="token punctuation">:</span>deviceInfo homeId<span class="token punctuation">:</span>#<span class="token operator">&lt;</span>&#x5F53;&#x524D;&#x5BB6;&#x5EAD;&#x7684; home id<span class="token operator">&gt;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>TuyaSmartDeviceModel <span class="token operator">*</span>deviceModel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// active success</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token comment">// active fail</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token builtin">TuyaSmartBLEManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">activeBLE</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>deviceInfo<span class="token punctuation">:</span> deviceInfo<span class="token punctuation">,</span> homeId<span class="token punctuation">:</span> #<span class="token operator">&lt;</span>&#x5F53;&#x524D;&#x5BB6;&#x5EAD;&#x7684; home id<span class="token operator">&gt;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>deviceModel<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token comment">// active success</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// active fail</span>
        <span class="token punctuation">}</span>
</code></pre>
<h4 id="ble-device-ota-upgrade"><a name="ble-device-ota-upgrade" class="anchor-navigation-ex-anchor" href="#ble-device-ota-upgrade"><i class="fa fa-link" aria-hidden="true"></i></a><a name="ble-device-ota-upgrade" class="plugin-anchor" href="#ble-device-ota-upgrade"><i class="fa fa-link" aria-hidden="true"></i></a>BLE Device OTA Upgrade</h4>
<p><strong>Declaration</strong></p>
<p>For device with firmware upgrade, the device can be upgraded by sending firmware upgrade packets. The firmware upgrade packets information needs to be requested form cloud</p>
<pre class="language-"><code class="lang-objective-c"><span class="token comment">/**
 * Send OTA package, make sure the device is connected before upgrading
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sendOTAPack<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>uuid
                pid<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>pid
            otaData<span class="token punctuation">:</span><span class="token punctuation">(</span>NSData <span class="token operator">*</span><span class="token punctuation">)</span>otaData
            success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
            failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureHandler<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>uuid</td>
<td>Device uuid</td>
</tr>
<tr>
<td>pid</td>
<td>Product Id</td>
</tr>
<tr>
<td>otaData</td>
<td>OTA upgrade data</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getFirmwareUpgradeInfo <span class="token punctuation">{</span>
    <span class="token comment">// self.device = [TuyaSmartDevice deviceWithDeviceId:@&quot;your_device_id&quot;];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>device getFirmwareUpgradeInfo<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartFirmwareUpgradeModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>upgradeModelList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getFirmwareUpgradeInfo success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getFirmwareUpgradeInfo failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartBLEManager sharedInstance<span class="token punctuation">]</span> sendOTAPack<span class="token punctuation">:</span>deviceModel<span class="token punctuation">.</span>uuid pid<span class="token punctuation">:</span>deviceModel<span class="token punctuation">.</span>pid otaData<span class="token punctuation">:</span>data success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
       <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;OTA success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
       <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;OTA failure&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getFirmwareUpgradeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    device<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getFirmwareUpgradeInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">(</span>upgradeModelList<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getFirmwareUpgradeInfo success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getFirmwareUpgradeInfo failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token builtin">TuyaSmartBLEManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sendOTAPack</span><span class="token punctuation">(</span>deviceModel<span class="token punctuation">.</span>uuid<span class="token punctuation">,</span> pid<span class="token punctuation">:</span> deviceModel<span class="token punctuation">.</span>pid<span class="token punctuation">,</span> otaData<span class="token punctuation">:</span> data<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;OTA success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;OTA failure&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="query-device-name"><a name="query-device-name" class="anchor-navigation-ex-anchor" href="#query-device-name"><i class="fa fa-link" aria-hidden="true"></i></a><a name="query-device-name" class="plugin-anchor" href="#query-device-name"><i class="fa fa-link" aria-hidden="true"></i></a>Query Device Name</h4>
<p><strong>Declaration</strong></p>
<p>After receiving the device broadcast package, the device name can be queried by this method</p>
<pre class="language-"><code class="lang-objective-c"><span class="token comment">/**
 * Query device name
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>queryNameWithUUID<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>uuid
               productKey<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>productKey
                  success<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                  failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>uuid</td>
<td>Device uuid</td>
</tr>
<tr>
<td>productKey</td>
<td>Product Id</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartBLEManager sharedInstance<span class="token punctuation">]</span> queryNameWithUUID<span class="token punctuation">:</span>bleAdvInfo<span class="token punctuation">.</span>uuid productKey<span class="token punctuation">:</span>bleAdvInfo<span class="token punctuation">.</span>productId success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// query device name success</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token comment">// query device name failure</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token builtin">TuyaSmartBLEManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">queryName</span><span class="token punctuation">(</span>withUUID<span class="token punctuation">:</span> bleAdvInfo<span class="token punctuation">.</span>uuid<span class="token punctuation">,</span> productKey<span class="token punctuation">:</span> bleAdvInfo<span class="token punctuation">.</span>productId<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token comment">// query device name success                                                                                      </span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token comment">// query device name failure</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="device-dp-publish"><a name="device-dp-publish" class="anchor-navigation-ex-anchor" href="#device-dp-publish"><i class="fa fa-link" aria-hidden="true"></i></a><a name="device-dp-publish" class="plugin-anchor" href="#device-dp-publish"><i class="fa fa-link" aria-hidden="true"></i></a>Device DP Publish</h4>
<p>Dp publish refer to <a href="https://tuyainc.github.io/tuyasmart_home_ios_sdk_doc/en/resource/Device.html#functions-of-device" target="_blank">Functions of device</a></p>
<h2 id="dual-mode-device-activator"><a name="dual-mode-device-activator" class="anchor-navigation-ex-anchor" href="#dual-mode-device-activator"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. Dual Mode Device Activator</h2>
<h4 id="dual-mode-device-scan"><a name="dual-mode-device-scan" class="anchor-navigation-ex-anchor" href="#dual-mode-device-scan"><i class="fa fa-link" aria-hidden="true"></i></a><a name="dual-mode-device-scan" class="plugin-anchor" href="#dual-mode-device-scan"><i class="fa fa-link" aria-hidden="true"></i></a>Dual Mode Device Scan</h4>
<p><strong>Declaration</strong></p>
<p>BLE SDK provides the method of scan dual mode BLE device&#xFF0C;while discover device&#xFF0C;you can receive the device information by setting delegate</p>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token comment">// Set delegate</span>
<span class="token punctuation">[</span>TuyaSmartBLEManager sharedInstance<span class="token punctuation">]</span><span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">;</span>

<span class="token comment">// Start scan</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartBLEManager sharedInstance<span class="token punctuation">]</span> startListening<span class="token punctuation">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>


<span class="token comment">/**
 * The inactive device that discovered
 *
 * @param deviceInfo  inactive device Model
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>didDiscoveryDeviceWithDeviceInfo<span class="token punctuation">:</span><span class="token punctuation">(</span>TYBLEAdvModel <span class="token operator">*</span><span class="token punctuation">)</span>deviceInfo <span class="token punctuation">{</span>
      <span class="token comment">// scaned inactive device</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token comment">// Set delegate</span>
<span class="token builtin">TuyaSmartBLEManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span>

<span class="token comment">// Start scan</span>
<span class="token builtin">TuyaSmartBLEManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startListening</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * The inactive device that discovered
 *
 * @param deviceInfo  inactive device Model
 */</span>
<span class="token keyword">func</span> <span class="token function">didDiscoveryDevice</span><span class="token punctuation">(</span>withDeviceInfo deviceInfo<span class="token punctuation">:</span> <span class="token builtin">TYBLEAdvModel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// scaned inactive device</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="dual-mode-device-active"><a name="dual-mode-device-active" class="anchor-navigation-ex-anchor" href="#dual-mode-device-active"><i class="fa fa-link" aria-hidden="true"></i></a><a name="dual-mode-device-active" class="plugin-anchor" href="#dual-mode-device-active"><i class="fa fa-link" aria-hidden="true"></i></a>Dual Mode Device Active</h4>
<p><strong>Declaration</strong></p>
<p>After scanning an inactive device, the device can be activated and registered to the Tuya cloud</p>
<pre class="language-"><code class="lang-objective-c"><span class="token comment">/**
 *  connect ble wifi device
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>startConfigBLEWifiDeviceWithUUID<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>UUID
                                  homeId<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span>homeId
                               productId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>productId
                                    ssid<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>ssid
                                password<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>password
                                timeout<span class="token punctuation">:</span><span class="token punctuation">(</span>NSTimeInterval<span class="token punctuation">)</span>timeout
                                 success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                                 failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureHandler<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>UUID</td>
<td>Device uuid</td>
</tr>
<tr>
<td>homeId</td>
<td>Currect home Id</td>
</tr>
<tr>
<td>productId</td>
<td>Product Id</td>
</tr>
<tr>
<td>ssid</td>
<td>Router hotspot name</td>
</tr>
<tr>
<td>password</td>
<td>Router hotspot password</td>
</tr>
<tr>
<td>timeout</td>
<td>Scan timeout</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">  <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartBLEWifiActivator sharedInstance<span class="token punctuation">]</span> startConfigBLEWifiDeviceWithUUID<span class="token punctuation">:</span>TYBLEAdvModel<span class="token punctuation">.</span>uuid homeId<span class="token punctuation">:</span>homeId productId<span class="token punctuation">:</span>TYBLEAdvModel<span class="token punctuation">.</span>productId ssid<span class="token punctuation">:</span>ssid password<span class="token punctuation">:</span>password  timeout<span class="token punctuation">:</span><span class="token number">100</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
     <span class="token comment">// active success</span>
        <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
     <span class="token comment">// active fail</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">  <span class="token builtin">TuyaSmartBLEWifiActivator</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">startConfigBLEWifiDevice</span><span class="token punctuation">(</span>withUUID<span class="token punctuation">:</span> <span class="token builtin">TYBLEAdvModel</span><span class="token punctuation">.</span>uuid<span class="token punctuation">,</span> homeId<span class="token punctuation">:</span> homeId<span class="token punctuation">,</span> productId<span class="token punctuation">:</span><span class="token builtin">TYBLEAdvModel</span><span class="token punctuation">.</span>productId<span class="token punctuation">,</span> ssid<span class="token punctuation">:</span> ssid<span class="token punctuation">,</span> password<span class="token punctuation">:</span> password<span class="token punctuation">,</span> timeout<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
     <span class="token comment">// active success</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">// active fail</span>
        <span class="token punctuation">}</span>
</code></pre>
<h4 id="callback-of-dual-mode-device-activator"><a name="callback-of-dual-mode-device-activator" class="anchor-navigation-ex-anchor" href="#callback-of-dual-mode-device-activator"><i class="fa fa-link" aria-hidden="true"></i></a><a name="callback-of-dual-mode-device-activator" class="plugin-anchor" href="#callback-of-dual-mode-device-activator"><i class="fa fa-link" aria-hidden="true"></i></a>Callback of Dual Mode Device Activator</h4>
<p><strong>Declaration</strong></p>
<p>You can get the result of device activator by setting delegate</p>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>bleWifiActivator<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartBLEWifiActivator <span class="token operator">*</span><span class="token punctuation">)</span>activator didReceiveBLEWifiConfigDevice<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token punctuation">)</span>deviceModel error<span class="token punctuation">:</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span><span class="token punctuation">)</span>error <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>error <span class="token operator">&amp;&amp;</span> deviceModel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// activator success</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// activator fail</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">bleWifiActivator</span><span class="token punctuation">(</span><span class="token number">_</span> activator<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartBLEWifiActivator</span><span class="token punctuation">,</span> didReceiveBLEWifiConfigDevice deviceModel<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartDeviceModel</span><span class="token punctuation">,</span> error<span class="token punctuation">:</span> <span class="token builtin">Error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>error <span class="token operator">&amp;&amp;</span> deviceModel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// activator success</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// activator fail</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="stop-discover-dual-mode-device"><a name="stop-discover-dual-mode-device" class="anchor-navigation-ex-anchor" href="#stop-discover-dual-mode-device"><i class="fa fa-link" aria-hidden="true"></i></a><a name="stop-discover-dual-mode-device" class="plugin-anchor" href="#stop-discover-dual-mode-device"><i class="fa fa-link" aria-hidden="true"></i></a>Stop Discover Dual Mode Device</h4>
<p><strong>Declaration</strong></p>
<p>Stop discover device</p>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token comment">// use after activator finished</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartBLEWifiActivator sharedInstance<span class="token punctuation">]</span> stopDiscover<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token comment">// use after activator finished</span>
<span class="token builtin">TuyaSmartBLEWifiActivator</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">.</span>stopDiscover
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="SmartScene.html#scene-operation" class="navigation navigation-prev " aria-label="Previous page: Scene Operation">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="BLE.html#bluetooth-status-monitor" class="navigation navigation-next " aria-label="Next page: Bluetooth Status Monitor">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Single BLE","level":"1.15","depth":1,"next":{"title":"Bluetooth Status Monitor","level":"1.15.1","depth":2,"anchor":"#bluetooth-status-monitor","path":"resource/BLE.md","ref":"./resource/BLE.md#bluetooth-status-monitor","articles":[]},"previous":{"title":"Scene Operation","level":"1.14.2","depth":2,"anchor":"#scene-operation","path":"resource/SmartScene.md","ref":"./resource/SmartScene.md#scene-operation","articles":[]},"dir":"ltr"},"config":{"plugins":["js-sequence-diagram-full@>=0.3.1","prism","-highlight","anchors","splitter","github","anchor-navigation-ex","ga","expandable-chapters-small","pageview-count","language-picker"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-okaidia.css"],"lang":{"oc":"objectivec","objc":"objectivec","objective-c":"objectivec"},"ignore":["sequence"]},"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/TuyaInc/tuyasmart_home_ios_sdk"},"splitter":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"js-sequence-diagram-full":{},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":false,"showLevel":true},"pageview-count":{},"expandable-chapters-small":{},"ga":{"configuration":"auto","token":"UA-165828612-1"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/BLE.md","mtime":"2020-05-12T13:51:19.212Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-05-12T13:52:07.759Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

