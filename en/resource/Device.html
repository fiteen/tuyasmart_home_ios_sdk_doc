
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Device Management Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Device.html" />
    
    
    <link rel="prev" href="Activator.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Overview.html">
            
                <a href="Overview.html">
            
                    
                    Function Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Preparation.html">
            
                <a href="Preparation.html">
            
                    
                    Preparation Work
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Initiate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="Demo.html">
            
                <a href="Demo.html">
            
                    
                    Demo App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="iOSAdaptation.html">
            
                <a href="iOSAdaptation.html">
            
                    
                    iOS Adaptation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="User.html">
            
                <a href="User.html#user-management">
            
                    
                    User Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="User.html">
            
                <a href="User.html#use-mobile-phone-for-login">
            
                    
                    Use Mobile Phone for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="User.html">
            
                <a href="User.html#use-email-for-login">
            
                    
                    Use Email for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="User.html">
            
                <a href="User.html#use-uid-for-login">
            
                    
                    Use Uid for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="User.html">
            
                <a href="User.html#third-party-login">
            
                    
                    Third Party Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="User.html">
            
                <a href="User.html#login-by-auth2">
            
                    
                    Login by Auth2(Login with Apple)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="User.html">
            
                <a href="User.html#modify-user-avatar">
            
                    
                    Modify User Info
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="User.html">
            
                <a href="User.html#logout">
            
                    
                    Logout, Disable Account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="User.html">
            
                <a href="User.html#handling-of-expired-session">
            
                    
                    Handling of Expired Session
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="HomeAbout.html">
            
                <a href="HomeAbout.html">
            
                    
                    Home Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="Home.html">
            
                <a href="Home.html#home-relationship-management">
            
                    
                    Home Relationship Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="Home.html">
            
                <a href="Home.html#home-information-management">
            
                    
                    Operation of Home
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="Home.html">
            
                <a href="Home.html#member-management">
            
                    
                    Home Member Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="Home.html">
            
                <a href="Home.html#room-information-management">
            
                    
                    Room Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="Home.html">
            
                <a href="Home.html#home-weather">
            
                    
                    Home's Weather
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="Activator.html">
            
                <a href="Activator.html#network-configuration">
            
                    
                    Network Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="Activator.html">
            
                <a href="Activator.html#quick-connection-mode">
            
                    
                    Quick Connection Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="Activator.html">
            
                <a href="Activator.html#hotspot-mode">
            
                    
                    HotSpot Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="Activator.html">
            
                <a href="Activator.html#wired-network-configuration">
            
                    
                    Wired Network Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="Activator.html">
            
                <a href="Activator.html#activate-the-sub-device">
            
                    
                    Activate the Sub-Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="Activator.html">
            
                <a href="Activator.html#qr-code-mode">
            
                    
                    QR code mode
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="Device.html">
            
                <a href="Device.html#device-management">
            
                    
                    Device Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="Device.html">
            
                <a href="Device.html#update-device-information">
            
                    
                    Update Device Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="Device.html">
            
                <a href="Device.html#device-control">
            
                    
                    Device Control
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.1" data-path="Device.html">
            
                <a href="Device.html#standard-device-control-beta">
            
                    
                    Standard Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.2" data-path="Device.html">
            
                <a href="Device.html#custom-device-control">
            
                    
                    Custom Device Control
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="Device.html">
            
                <a href="Device.html#modify-the-device-name">
            
                    
                    Modify the Device Name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="Device.html">
            
                <a href="Device.html#remove-device">
            
                    
                    Remove Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="Device.html">
            
                <a href="Device.html#restore-factory-settings">
            
                    
                    Restore Factory Settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="Device.html">
            
                <a href="Device.html#obtain-wi-fi-signal-strength-of-device">
            
                    
                    Obtain Wi-Fi Signal Strength of Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="Device.html">
            
                <a href="Device.html#obtain-the-sub-device-list-of-a-gateway">
            
                    
                    Obtain the Sub-Device List of a Gateway
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="Device.html">
            
                <a href="Device.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="Share.html">
            
                <a href="Share.html#shared-devices">
            
                    
                    Share Devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="Share.html">
            
                <a href="Share.html#add-device-share">
            
                    
                    Add Device Share
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="Share.html">
            
                <a href="Share.html#getting-shared-relationships">
            
                    
                    Getting Shared Relationships
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="Share.html">
            
                <a href="Share.html#remove-sharing">
            
                    
                    Remove Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="Share.html">
            
                <a href="Share.html#modify-note-name">
            
                    
                    Modify Note Name
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="Timer.html">
            
                <a href="Timer.html">
            
                    
                    Timer Task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="Group.html">
            
                <a href="Group.html">
            
                    
                    Group Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="SmartSceneAbout.html">
            
                <a href="SmartSceneAbout.html">
            
                    
                    Smart Scene
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="SmartScene.html">
            
                <a href="SmartScene.html#smart-scene-management">
            
                    
                    Smart Scene Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="SmartScene.html">
            
                <a href="SmartScene.html#scene-operation">
            
                    
                    Scene Operation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="BLE.html">
            
                <a href="BLE.html#single-ble">
            
                    
                    Single BLE
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="BLE.html">
            
                <a href="BLE.html#bluetooth-status-monitor">
            
                    
                    Bluetooth Status Monitor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="BLE.html">
            
                <a href="BLE.html#ble-device-scan">
            
                    
                    Bluetooth Scan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="BLE.html">
            
                <a href="BLE.html#active-device">
            
                    
                    Active Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.4" data-path="BLE.html">
            
                <a href="BLE.html#ble-device-ota-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.5" data-path="BLE.html">
            
                <a href="BLE.html#query-device-name">
            
                    
                    Query Device Name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.6" data-path="BLE.html">
            
                <a href="BLE.html#device-dp-publish">
            
                    
                    Device DP Publish
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.7" data-path="BLE.html">
            
                <a href="BLE.html#dual-mode-device-scan">
            
                    
                    Dual Mode Scan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.8" data-path="BLE.html">
            
                <a href="BLE.html#dual-mode-device-active">
            
                    
                    Dual Mode Active
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#bluetooth-mesh-sdk-guide">
            
                    
                    Bluetooth Mesh(SIG)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#introduction">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#management">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#configuration">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.4" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#mesh-device">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.5" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#mesh-group">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.6" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#mesh-control">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.7" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="Mesh.html">
            
                <a href="Mesh.html#bluetooth-meshtuya-sdk-guide">
            
                    
                    Bluetooth Mesh(TUYA)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="Mesh.html">
            
                <a href="Mesh.html#basic-notion">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2" data-path="Mesh.html">
            
                <a href="Mesh.html#management">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3" data-path="Mesh.html">
            
                <a href="Mesh.html#configuration">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4" data-path="Mesh.html">
            
                <a href="Mesh.html#mesh-device">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.5" data-path="Mesh.html">
            
                <a href="Mesh.html#mesh-group">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.6" data-path="Mesh.html">
            
                <a href="Mesh.html#mesh-control">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.7" data-path="Mesh.html">
            
                <a href="Mesh.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="Message.html">
            
                <a href="Message.html#message-center">
            
                    
                    Message Center
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="Message.html">
            
                <a href="Message.html#function-overview">
            
                    
                    Function Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="Message.html">
            
                <a href="Message.html#message">
            
                    
                    Message
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.3" data-path="Message.html">
            
                <a href="Message.html#push-notification">
            
                    
                    Push Notification
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="Feedback.html">
            
                <a href="Feedback.html#feedback">
            
                    
                    Feedback
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-talk-list">
            
                    
                    Obtain Feedback Talk List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.2" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-list">
            
                    
                    Obtain Feedback List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.3" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-type-list">
            
                    
                    Obtain Feedback Type List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.4" data-path="Feedback.html">
            
                <a href="Feedback.html#add-feedback">
            
                    
                    Add Feedback
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="CommonInterface.html">
            
                <a href="CommonInterface.html">
            
                    
                    Common Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="Push.html">
            
                <a href="Push.html">
            
                    
                    Register PushId
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22" >
            
                <a target="_blank" href="https://tuyainc.github.io/tuyasmart_home_ios_sdk_api_reference/index.html">
            
                    
                    API Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23" data-path="Faq.html">
            
                <a href="Faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24" data-path="ChangeLog.html">
            
                <a href="ChangeLog.html">
            
                    
                    ChangeLog
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Device Management</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#device-management"><b>1. </b>Device Management</a></li><ul><li><span class="title-icon "></span><a href="#update-device-information"><b>1.1. </b>Update Device Information</a></li><ul><li><span class="title-icon "></span><a href="#update-single-device-information"><b>1.1.1. </b>Update Single Device Information</a></li></ul><li><span class="title-icon "></span><a href="#device-control"><b>1.2. </b>Device Control</a></li><ul><li><span class="title-icon "></span><a href="#standard-device-control-beta"><b>1.2.1. </b>Standard Device Control (Beta)</a></li><li><span class="title-icon "></span><a href="#custom-device-control"><b>1.2.2. </b>Custom Device Control</a></li></ul><li><span class="title-icon "></span><a href="#modify-the-device-name"><b>1.3. </b>Modify the Device Name</a></li><li><span class="title-icon "></span><a href="#remove-device"><b>1.4. </b>Remove Device</a></li><li><span class="title-icon "></span><a href="#restore-factory-settings"><b>1.5. </b>Restore Factory Settings</a></li><li><span class="title-icon "></span><a href="#obtain-wi-fi-signal-strength-of-device"><b>1.6. </b>Obtain Wi-Fi Signal Strength of Device</a></li><li><span class="title-icon "></span><a href="#obtain-the-sub-device-list-of-a-gateway"><b>1.7. </b>Obtain the Sub-Device List of a Gateway</a></li><li><span class="title-icon "></span><a href="#firmware-upgrade"><b>1.8. </b>Firmware Upgrade</a></li><ul><li><span class="title-icon "></span><a href="#obtain-device-upgrade-information"><b>1.8.1. </b>Obtain Device Upgrade Information</a></li></ul></ul></ul></div><h1 id="device-management"><a name="device-management" class="anchor-navigation-ex-anchor" href="#device-management"><i class="fa fa-link" aria-hidden="true"></i></a>1. Device Management</h1>
<p>The device ID needs to be used to initiate all <code>TuyaSmartDevice</code> classes related to all functions for device control. Wrong device Id may cause initiation failure, and the <code>nil</code> will be returned.</p>
<table>
<thead>
<tr>
<th>Class</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>TuyaSmartDevice</td>
<td>Tuya device management class</td>
</tr>
</tbody>
</table>
<p><strong><code>TuyaSmartDeviceModel</code></strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>devId</td>
<td>NSString</td>
<td>Device Id</td>
</tr>
<tr>
<td>name</td>
<td>NSString</td>
<td>Device Name</td>
</tr>
<tr>
<td>iconUrl</td>
<td>NSString</td>
<td>Device Icon URL</td>
</tr>
<tr>
<td>isOnline</td>
<td>BOOL</td>
<td>Device Online Status. Include Wi-Fi&#x3001;WLAN&#x3001;Bluetooth. <br>As long as any of them is YES, the value is YES.</td>
</tr>
<tr>
<td>isCloudOnline</td>
<td>BOOL</td>
<td>Device Wi-Fi Online Status</td>
</tr>
<tr>
<td>isLocalOnline</td>
<td>BOOL</td>
<td>Device WLAN Online Status</td>
</tr>
<tr>
<td>isShare</td>
<td>BOOL</td>
<td>Is Shared Device</td>
</tr>
<tr>
<td>dps</td>
<td>NSDictionary</td>
<td>Dps</td>
</tr>
<tr>
<td>dpCodes</td>
<td>NSDictionary</td>
<td>Dp Code</td>
</tr>
<tr>
<td>schemaArray</td>
<td>NSArray</td>
<td>Data Point Detail</td>
</tr>
<tr>
<td>productId</td>
<td>NSString</td>
<td>Product Id</td>
</tr>
<tr>
<td>capability</td>
<td>NSUInteger</td>
<td>Capability</td>
</tr>
<tr>
<td>deviceType</td>
<td>TuyaSmartDeviceModelType</td>
<td>Device Type</td>
</tr>
<tr>
<td>supportGroup</td>
<td>BOOL</td>
<td>Is Support Group</td>
</tr>
<tr>
<td>gwType</td>
<td>NSString</td>
<td>&quot;v&quot; Means Virtual Device</td>
</tr>
<tr>
<td>pv</td>
<td>NSString</td>
<td>Protocol Version</td>
</tr>
<tr>
<td>lpv</td>
<td>NSString</td>
<td>WLAN Protocol Version</td>
</tr>
<tr>
<td>latitude</td>
<td>NSString</td>
<td>latitude</td>
</tr>
<tr>
<td>longitude</td>
<td>NSString</td>
<td>longitude</td>
</tr>
<tr>
<td>localKey</td>
<td>NSString</td>
<td>A Key Used For Device Communication</td>
</tr>
<tr>
<td>uuid</td>
<td>NSString</td>
<td>Device uuid</td>
</tr>
<tr>
<td>homeId</td>
<td>long long</td>
<td>Home Id For Device</td>
</tr>
<tr>
<td>roomId</td>
<td>long long</td>
<td>Room Id For Device</td>
</tr>
<tr>
<td>upgrading</td>
<td>BOOL</td>
<td>Is Upgrading</td>
</tr>
<tr>
<td>timezoneId</td>
<td>NSString</td>
<td>Device Timezone Id</td>
</tr>
<tr>
<td>nodeId</td>
<td>NSString</td>
<td>Device Short Address</td>
</tr>
<tr>
<td>parentId</td>
<td>NSString</td>
<td>Parent Device Id</td>
</tr>
<tr>
<td>isMeshBleOnline</td>
<td>BOOL</td>
<td>Device Bluetooth Mesh Online Status</td>
</tr>
<tr>
<td>devKey</td>
<td>NSString</td>
<td>A Key Used For Standard SIG Mesh Device Communication</td>
</tr>
<tr>
<td>standard</td>
<td>BOOL</td>
<td>Is a Standardized Device</td>
</tr>
<tr>
<td>standSchemaModel</td>
<td>TuyaSmartStandSchemaModel</td>
<td>Standardized Data Point Detail</td>
</tr>
<tr>
<td>activeTime</td>
<td>NSTimeInterval</td>
<td>Active Time</td>
</tr>
<tr>
<td>sharedTime</td>
<td>long long</td>
<td>Shared Time</td>
</tr>
</tbody>
</table>
<h2 id="update-device-information"><a name="update-device-information" class="anchor-navigation-ex-anchor" href="#update-device-information"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Update Device Information</h2>
<h3 id="update-single-device-information"><a name="update-single-device-information" class="anchor-navigation-ex-anchor" href="#update-single-device-information"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.1. Update Single Device Information</h3>
<p><strong>Declaration</strong></p>
<p>Sync device info from cloud</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>syncWithCloud<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYSuccessHandler<span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>updateDeviceInfo <span class="token punctuation">{</span>
    <span class="token comment">// self.device = [TuyaSmartDevice deviceWithDeviceId:@&quot;your_device_id&quot;];</span>

    __weak <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">)</span> weakSelf <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>device syncWithCloud<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;syncWithCloud success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;deviceModel: %@&quot;</span><span class="token punctuation">,</span> weakSelf<span class="token punctuation">.</span>device<span class="token punctuation">.</span>deviceModel<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;syncWithCloud failure&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">updateDeviceInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    device<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span>cloud<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;syncWithCloud success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;syncWithCloud failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="device-control"><a name="device-control" class="anchor-navigation-ex-anchor" href="#device-control"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Device Control</h2>
<p>Device control is currently divided into <strong>standard device control</strong> and <strong>custom device control</strong>.</p>
<h3 id="standard-device-control-beta"><a name="standard-device-control-beta" class="anchor-navigation-ex-anchor" href="#standard-device-control-beta"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.1. Standard Device Control (Beta)</h3>
<h4 id="standard-device-feature-set"><a name="standard-device-feature-set" class="anchor-navigation-ex-anchor" href="#standard-device-feature-set"><i class="fa fa-link" aria-hidden="true"></i></a><a name="standard-device-feature-set" class="plugin-anchor" href="#standard-device-feature-set"><i class="fa fa-link" aria-hidden="true"></i></a>Standard Device Feature Set</h4>
<p>What is the standard device feature set?</p>
<p>The functions of different products are different. For example, in the lighting category, the lamp is used as an example, there are functions such as switching, color adjustment, but for the electrical category, the socket is used as an example, there is no &quot;color&quot; function.</p>
<p>But for a large category, the basic common functions are the same. For example, all lighting categories have the function of switching.</p>
<p>Unify the definition of the function set of similar products and formulate a set of function instruction set rules, which is the standard function set.</p>
<blockquote>
<p>Because it needs to be compatible with a wide variety of product functions, the standard equipment control function is currently in a phase of open product adaptation.</p>
<p>If you want to use this function, you can contact Tuya.</p>
</blockquote>
<h4 id="does-the-device-support-standardization"><a name="does-the-device-support-standardization" class="anchor-navigation-ex-anchor" href="#does-the-device-support-standardization"><i class="fa fa-link" aria-hidden="true"></i></a><a name="does-the-device-support-standardization" class="plugin-anchor" href="#does-the-device-support-standardization"><i class="fa fa-link" aria-hidden="true"></i></a>Does the Device Support Standardization</h4>
<p>The <code>standard</code> property (type <code>BOOL</code>) of the <code>TuyaSmartDeviceModel</code> class defines whether the current device supports standardized control</p>
<p>The <code>dpCodes</code> property defines the status of the current device and is called a standard dp code</p>
<p>Each key in the dpCodes dictionary corresponds to a dpCode of a function point, value corresponds to a dpValue of a function point, and dpValue is the value of the function point</p>
<h4 id="standard-device-control"><a name="standard-device-control" class="anchor-navigation-ex-anchor" href="#standard-device-control"><i class="fa fa-link" aria-hidden="true"></i></a><a name="standard-device-control" class="plugin-anchor" href="#standard-device-control"><i class="fa fa-link" aria-hidden="true"></i></a>Standard Device Control</h4>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>publishDpWithCommands<span class="token punctuation">:</span><span class="token punctuation">(</span>NSDictionary <span class="token operator">*</span><span class="token punctuation">)</span>commands
                      success<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYSuccessHandler<span class="token punctuation">)</span>success
                      failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>commands</td>
<td>Standard command</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>device publishDpWithCommands<span class="token punctuation">:</span>dpCodesCommand success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;publishDpWithCommands success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;publishDpWithCommands failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">self</span><span class="token punctuation">.</span>device<span class="token punctuation">.</span><span class="token function">publishDp</span><span class="token punctuation">(</span>withCommands<span class="token punctuation">:</span> command<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;publishDpWithCommands success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
          <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
</code></pre>
<p>&#x3010;Commands&#x3011;</p>
<pre class="language-"><code class="lang-json"><span class="token comment">// light </span>
<span class="token comment">// Each product has a standard set of rules</span>
<span class="token comment">// bool: open light</span>
<span class="token punctuation">{</span><span class="token property">&quot;switch_led&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span>

<span class="token comment">// string: set color </span>
<span class="token punctuation">{</span><span class="token property">&quot;colour_data&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;009003e803e8&quot;</span><span class="token punctuation">}</span>

<span class="token comment">// enum: set white mode</span>
<span class="token punctuation">{</span><span class="token property">&quot;work_mode&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;white&quot;</span><span class="token punctuation">}</span>

<span class="token comment">// value: set brightness 100</span>
<span class="token punctuation">{</span><span class="token property">&quot;bright_value&quot;</span> <span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">}</span>

<span class="token comment">// Multiple combinations</span>
<span class="token punctuation">{</span><span class="token property">&quot;work_mode&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;colour&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">&quot;colour_data&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;009003e803e8&quot;</span><span class="token punctuation">}</span>
</code></pre>
<h4 id="update-device-status"><a name="update-device-status" class="anchor-navigation-ex-anchor" href="#update-device-status"><i class="fa fa-link" aria-hidden="true"></i></a><a name="update-device-status" class="plugin-anchor" href="#update-device-status"><i class="fa fa-link" aria-hidden="true"></i></a>Update Device Status</h4>
<p>After the <code>TuyaSmartDeviceDelegate</code> delegate protocol is realized, user can update the UI of the App device control in the callback of device status change.</p>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>initDevice <span class="token punctuation">{</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>device <span class="token operator">=</span> <span class="token punctuation">[</span>TuyaSmartDevice deviceWithDeviceId<span class="token punctuation">:</span><span class="token string">@&quot;your_device_id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>device<span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token macro property">#<span class="token directive keyword">pragma</span> mark - TuyaSmartDeviceDelegate</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>device<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDevice <span class="token operator">*</span><span class="token punctuation">)</span>device dpCommandsUpdate<span class="token punctuation">:</span><span class="token punctuation">(</span>NSDictionary <span class="token operator">*</span><span class="token punctuation">)</span>dpCodes <span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;dpCommandsUpdate: %@&quot;</span><span class="token punctuation">,</span> dpCodes<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// TODO: refresh ui</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>deviceInfoUpdate<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDevice <span class="token operator">*</span><span class="token punctuation">)</span>device <span class="token punctuation">{</span>
    <span class="token comment">// device info update</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>deviceRemoved<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDevice <span class="token operator">*</span><span class="token punctuation">)</span>device <span class="token punctuation">{</span>
    <span class="token comment">// device removed</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-objective-c">func <span class="token function">initDevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    device <span class="token operator">=</span> <span class="token function">TuyaSmartDevice</span><span class="token punctuation">(</span>deviceId<span class="token punctuation">:</span> <span class="token string">&quot;your_device_id&quot;</span><span class="token punctuation">)</span>
    device<span class="token operator">?</span><span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span>
<span class="token punctuation">}</span>

<span class="token comment">// MARK: - TuyaSmartDeviceDelegate</span>

func <span class="token function">device</span><span class="token punctuation">(</span>_ device<span class="token punctuation">:</span> TuyaSmartDevice<span class="token operator">!</span><span class="token punctuation">,</span> dpCommandsUpdate dpCodes<span class="token punctuation">:</span> <span class="token punctuation">[</span>AnyHashable <span class="token punctuation">:</span> Any<span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;dpCommandsUpdate: \(dpCodes)&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// TODO: refresh ui</span>
<span class="token punctuation">}</span>

func <span class="token function">deviceInfoUpdate</span><span class="token punctuation">(</span>_ device<span class="token punctuation">:</span> TuyaSmartDevice<span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// device info update</span>
<span class="token punctuation">}</span>

func <span class="token function">deviceRemoved</span><span class="token punctuation">(</span>_ device<span class="token punctuation">:</span> TuyaSmartDevice<span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// device removed </span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="custom-device-control"><a name="custom-device-control" class="anchor-navigation-ex-anchor" href="#custom-device-control"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.2. Custom Device Control</h3>
<h4 id="functions-of-device"><a name="functions-of-device" class="anchor-navigation-ex-anchor" href="#functions-of-device"><i class="fa fa-link" aria-hidden="true"></i></a><a name="functions-of-device" class="plugin-anchor" href="#functions-of-device"><i class="fa fa-link" aria-hidden="true"></i></a>Functions of Device</h4>
<p>The <code>dps</code> (<code>NSDictionary</code> type) attribute of the <code>TuyaSmartDeviceModel</code> class defines the state of the device, and the state is called data point (DP) or function point.
Each <code>key</code> in the <code>dps</code> dictionary refers to a <code>dpId</code> of a function point, and <code>Value</code> refers to the <code>dpValue</code> of a function point. The <code>dpValue</code> is the value of the function point.
Refer to the functions of product in the <a href="https://iot.tuya.com/" target="_blank">Tuya developer platform</a> for definition of function points of products. See the following figure.</p>
<p><img src="images/ios_dp_sample.png" alt="&#x529F;&#x80FD;&#x70B9;"></p>
<p>The control instructions shall be sent in the format given below:</p>
<p><code>{&quot;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dpId</span><span class="token punctuation">&gt;</span></span>&quot;:&quot;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dpValue</span><span class="token punctuation">&gt;</span></span>&quot;}</code></p>
<p>According to the definition of function points of the product in the back end, the example codes are as follows.</p>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>publishDps <span class="token punctuation">{</span>
  <span class="token comment">// self.device = [TuyaSmartDevice deviceWithDeviceId:@&quot;your_device_id&quot;];</span>

  NSDictionary <span class="token operator">*</span>dps<span class="token punctuation">;</span>

  <span class="token comment">// Set bool dp value to true</span>
    dps <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">{</span><span class="token string">@&quot;1&quot;</span><span class="token punctuation">:</span> <span class="token operator">@</span><span class="token punctuation">(</span>YES<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Set string dp value to &quot;ff5500&quot;</span>
    dps <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">{</span><span class="token string">@&quot;4&quot;</span><span class="token punctuation">:</span> <span class="token string">@&quot;ff5500&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Set enum dp value to &quot;Medium&quot;</span>
    dps <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">{</span><span class="token string">@&quot;5&quot;</span><span class="token punctuation">:</span> <span class="token string">@&quot;Medium&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Set number dp value to 20</span>
    dps <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">{</span><span class="token string">@&quot;6&quot;</span><span class="token punctuation">:</span> <span class="token operator">@</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Set byte dp value to &quot;1122&quot;</span>
    dps <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">{</span><span class="token string">@&quot;15&quot;</span><span class="token punctuation">:</span> <span class="token string">@&quot;1122&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Send multiple dp values together</span>
    dps <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">{</span><span class="token string">@&quot;1&quot;</span><span class="token punctuation">:</span> <span class="token operator">@</span><span class="token punctuation">(</span>YES<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">@&quot;4&quot;</span><span class="token punctuation">:</span> <span class="token string">@&quot;ff5500&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>device publishDps<span class="token punctuation">:</span>dps success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;publishDps success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Publish dp success. device state change will be reported from deviceDpsUpdate delegate callback.</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;publishDps failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>


<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">publishDps</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> dps <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">String</span> <span class="token punctuation">:</span> <span class="token builtin">Any</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// dps: Please refers to the specific product definition</span>

    device<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">publishDps</span><span class="token punctuation">(</span>dps<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
         <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;publishDps success&quot;</span><span class="token punctuation">)</span>

      <span class="token comment">// Publish dp success. device state change will be reported from deviceDpsUpdate delegate callback.</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;publishDps failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="precautions"><a name="precautions" class="anchor-navigation-ex-anchor" href="#precautions"><i class="fa fa-link" aria-hidden="true"></i></a><a name="precautions" class="plugin-anchor" href="#precautions"><i class="fa fa-link" aria-hidden="true"></i></a>Precautions</h4>
<ul>
<li>Special attention shall be paid to the type of data in sending the control commands. For example, the data type of function points shall be value, and the <code>@{@&quot;2&quot;: @(25)}</code> instead of <code>@{@&quot;2&quot;: @&quot;25&quot;}</code> shall be sent for the control command.</li>
<li>In the transparent transmission, the byte string shall be the string format, and all letters shall be in the lower case, and the string must have even bits. The correct format shall be: <code>@{@&quot;1&quot;: @&quot;011f&quot;}</code> instead of <code>@{@&quot;1&quot;: @&quot;11f&quot;}</code></li>
</ul>
<p>For more concepts of function points, please refer to the <a href="https://docs.tuya.com/en/product/function.html" target="_blank">QuickStart-Related Concepts of Function Points</a></p>
<h4 id="device-control_1"><a name="device-control_1" class="anchor-navigation-ex-anchor" href="#device-control_1"><i class="fa fa-link" aria-hidden="true"></i></a><a name="device-control" class="plugin-anchor" href="#device-control"><i class="fa fa-link" aria-hidden="true"></i></a>Device Control</h4>
<p>Device control supports three kinds of channel control, LAN control, cloud control, and automatic mode (if LAN is online, first go LAN control, LAN is not online, go cloud control)</p>
<p>LAN Control</p>
<pre class="language-"><code class="lang-objc">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>device publishDps<span class="token punctuation">:</span>dps mode<span class="token punctuation">:</span>TYDevicePublishModeLocal success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;publishDps success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;publishDps failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Cloud Control</p>
<pre class="language-"><code class="lang-objc">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>device publishDps<span class="token punctuation">:</span>dps mode<span class="token punctuation">:</span>TYDevicePublishModeInternet success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;publishDps success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;publishDps failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Auto Mode</p>
<pre class="language-"><code class="lang-objc">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>device publishDps<span class="token punctuation">:</span>dps mode<span class="token punctuation">:</span>TYDevicePublishModeAuto success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;publishDps success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;publishDps failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="update-device-status_1"><a name="update-device-status_1" class="anchor-navigation-ex-anchor" href="#update-device-status_1"><i class="fa fa-link" aria-hidden="true"></i></a><a name="update-device-status" class="plugin-anchor" href="#update-device-status"><i class="fa fa-link" aria-hidden="true"></i></a>Update Device Status</h4>
<p>After the <code>TuyaSmartDeviceDelegate</code> delegate protocol is realized, user can update the UI of the App device control in the callback of device status change.</p>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>initDevice <span class="token punctuation">{</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>device <span class="token operator">=</span> <span class="token punctuation">[</span>TuyaSmartDevice deviceWithDeviceId<span class="token punctuation">:</span><span class="token string">@&quot;your_device_id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>device<span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token macro property">#<span class="token directive keyword">pragma</span> mark - TuyaSmartDeviceDelegate</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>device<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDevice <span class="token operator">*</span><span class="token punctuation">)</span>device dpsUpdate<span class="token punctuation">:</span><span class="token punctuation">(</span>NSDictionary <span class="token operator">*</span><span class="token punctuation">)</span>dps <span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;deviceDpsUpdate: %@&quot;</span><span class="token punctuation">,</span> dps<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// device dp state was updated</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>deviceInfoUpdate<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDevice <span class="token operator">*</span><span class="token punctuation">)</span>device <span class="token punctuation">{</span>
  <span class="token comment">// device name, device online state change, etc.</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>deviceRemoved<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDevice <span class="token operator">*</span><span class="token punctuation">)</span>device <span class="token punctuation">{</span>
  <span class="token comment">// device was removed.</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">initDevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    device <span class="token operator">=</span> <span class="token function">TuyaSmartDevice</span><span class="token punctuation">(</span>deviceId<span class="token punctuation">:</span> <span class="token string">&quot;your_device_id&quot;</span><span class="token punctuation">)</span>
    device<span class="token operator">?</span><span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span>
<span class="token punctuation">}</span>

<span class="token comment">// MARK: - TuyaSmartDeviceDelegate</span>

<span class="token keyword">func</span> <span class="token function">device</span><span class="token punctuation">(</span><span class="token number">_</span> device<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartDevice</span><span class="token operator">!</span><span class="token punctuation">,</span> dpsUpdate dps<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">AnyHashable</span> <span class="token punctuation">:</span> <span class="token builtin">Any</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;deviceDpsUpdate: <span class="token interpolation"><span class="token delimiter variable">\(</span>dps<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// device dp state was updated</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">deviceInfoUpdate</span><span class="token punctuation">(</span><span class="token number">_</span> device<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartDevice</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// device name, device online state change, etc.</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">deviceRemoved</span><span class="token punctuation">(</span><span class="token number">_</span> device<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartDevice</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// device was removed.</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="modify-the-device-name"><a name="modify-the-device-name" class="anchor-navigation-ex-anchor" href="#modify-the-device-name"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. Modify the Device Name</h2>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>updateName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>name success<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYSuccessHandler<span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>New device name</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>modifyDeviceName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>mame <span class="token punctuation">{</span>
    <span class="token comment">// self.device = [TuyaSmartDevice deviceWithDeviceId:@&quot;your_device_id&quot;];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>device updateName<span class="token punctuation">:</span>name success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;updateName success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;updateName failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">modifyDeviceName</span><span class="token punctuation">(</span><span class="token number">_</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    device<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">updateName</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;updateName success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;updateName failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="remove-device"><a name="remove-device" class="anchor-navigation-ex-anchor" href="#remove-device"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. Remove Device</h2>
<p>After a device is removed, it will be in the to-be-network-configured status (smart config mode).</p>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>remove<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYSuccessHandler<span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeDevice <span class="token punctuation">{</span>
    <span class="token comment">// self.device = [TuyaSmartDevice deviceWithDeviceId:@&quot;your_device_id&quot;];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>device remove<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;remove success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;remove failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">removeDevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    device<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;remove success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;remove failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="restore-factory-settings"><a name="restore-factory-settings" class="anchor-navigation-ex-anchor" href="#restore-factory-settings"><i class="fa fa-link" aria-hidden="true"></i></a>1.5. Restore Factory Settings</h2>
<p>After the device is restored to the factory settings, it will re-enter the network to be distributed state (smart config mode), and the relevant data of the device will be cleared.</p>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>resetFactory<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYSuccessHandler<span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeDevice <span class="token punctuation">{</span>
    <span class="token comment">// self.device = [TuyaSmartDevice deviceWithDeviceId:@&quot;your_device_id&quot;];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>device resetFactory<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;reset success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;reset failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">removeDevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    device<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">resetFactory</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;reset success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;reset failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="obtain-wi-fi-signal-strength-of-device"><a name="obtain-wi-fi-signal-strength-of-device" class="anchor-navigation-ex-anchor" href="#obtain-wi-fi-signal-strength-of-device"><i class="fa fa-link" aria-hidden="true"></i></a>1.6. Obtain Wi-Fi Signal Strength of Device</h2>
<p><strong>Declaration</strong></p>
<p>After calling Get Device Wi-Fi Signal,  <code>TuyaSmartDeviceDelegate</code>  <code>device:signal:</code> will be called</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getWifiSignalStrengthWithSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYSuccessHandler<span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Send success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getWifiSignalStrength <span class="token punctuation">{</span>
    <span class="token comment">// self.device = [TuyaSmartDevice deviceWithDeviceId:@&quot;your_device_id&quot;];</span>
    <span class="token comment">// self.device.delegate = self;</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>device getWifiSignalStrengthWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get wifi signal strength success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get wifi signal strength failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token macro property">#<span class="token directive keyword">pragma</span> mark - TuyaSmartDeviceDelegate</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>device<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDevice <span class="token operator">*</span><span class="token punctuation">)</span>device signal<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>signal <span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot; signal : %@&quot;</span><span class="token punctuation">,</span> signal<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getWifiSignalStrength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>device<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getWifiSignalStrength</span><span class="token punctuation">(</span>success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get wifi signal strength success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get wifi signal strength failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// MARK: - TuyaSmartDeviceDelegate</span>
<span class="token keyword">func</span> <span class="token function">device</span><span class="token punctuation">(</span><span class="token number">_</span> device<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartDevice</span><span class="token operator">!</span><span class="token punctuation">,</span> signal<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre>
<h2 id="obtain-the-sub-device-list-of-a-gateway"><a name="obtain-the-sub-device-list-of-a-gateway" class="anchor-navigation-ex-anchor" href="#obtain-the-sub-device-list-of-a-gateway"><i class="fa fa-link" aria-hidden="true"></i></a>1.7. Obtain the Sub-Device List of a Gateway</h2>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getSubDeviceListFromCloudWithSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray <span class="token operator">&lt;</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>subDeviceList<span class="token punctuation">)</span><span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getSubDeviceList <span class="token punctuation">{</span>
    <span class="token comment">// self.device = [TuyaSmartDevice deviceWithDeviceId:@&quot;your_device_id&quot;];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>device getSubDeviceListFromCloudWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>subDeviceList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get sub device list success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get sub device list failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getSubDeviceList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    device<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getSubDeviceListFromCloud</span><span class="token punctuation">(</span>success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>subDeviceList<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get sub device list success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get sub device list failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="firmware-upgrade"><a name="firmware-upgrade" class="anchor-navigation-ex-anchor" href="#firmware-upgrade"><i class="fa fa-link" aria-hidden="true"></i></a>1.8. Firmware Upgrade</h2>
<p><strong>Firmware upgrade process:</strong></p>
<p>Obtain device upgrade information -&gt; send module upgrade instructions -&gt; module upgrade succeeds -&gt; send upgrade instructions to the device control module -&gt; the upgrade of device control module succeeds</p>
<p>User obtain device upgrade information interface to get TuyaSmartFirmwareUpgradeModel, you can get firmware type from type property, get type description from typeDesc property.</p>
<h3 id="obtain-device-upgrade-information"><a name="obtain-device-upgrade-information" class="anchor-navigation-ex-anchor" href="#obtain-device-upgrade-information"><i class="fa fa-link" aria-hidden="true"></i></a>1.8.1. Obtain Device Upgrade Information</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getFirmwareUpgradeInfo<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray <span class="token operator">&lt;</span>TuyaSmartFirmwareUpgradeModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>upgradeModelList<span class="token punctuation">)</span><span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong><code>TuyaSmartFirmwareUpgradeModel</code> Description</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>desc</td>
<td>NSString</td>
<td>Upgrade title</td>
</tr>
<tr>
<td>typeDesc</td>
<td>NSString</td>
<td>Device type upgrade content</td>
</tr>
<tr>
<td>upgradeStatus</td>
<td>NSInteger</td>
<td>0:No upgrade 1:Has new version 2:Upgrading 5:Waiting for wake up</td>
</tr>
<tr>
<td>version</td>
<td>NSString</td>
<td>Firmware version</td>
</tr>
<tr>
<td>upgradeType</td>
<td>NSInteger</td>
<td>0:App Remind upgrade 2:app force upgrade 3:check upgrade</td>
</tr>
<tr>
<td>url</td>
<td>NSString</td>
<td>URL for firmware</td>
</tr>
<tr>
<td>fileSize</td>
<td>NSString</td>
<td>Firmware size</td>
</tr>
<tr>
<td>md5</td>
<td>NSString</td>
<td>MD5 for Firmware</td>
</tr>
<tr>
<td>upgradingDesc</td>
<td>NSString</td>
<td>The content when upgrading</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getFirmwareUpgradeInfo <span class="token punctuation">{</span>
    <span class="token comment">// self.device = [TuyaSmartDevice deviceWithDeviceId:@&quot;your_device_id&quot;];</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>device getFirmwareUpgradeInfo<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartFirmwareUpgradeModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>upgradeModelList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getFirmwareUpgradeInfo success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getFirmwareUpgradeInfo failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getFirmwareUpgradeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    device<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getFirmwareUpgradeInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">(</span>upgradeModelList<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getFirmwareUpgradeInfo success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getFirmwareUpgradeInfo failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Send Upgrade Instruction</p>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>upgradeFirmware <span class="token punctuation">{</span>
    <span class="token comment">// self.device = [TuyaSmartDevice deviceWithDeviceId:@&quot;your_device_id&quot;];</span>
    <span class="token comment">// type: get firmware type from getFirmwareUpgradeInfo interface</span>
    <span class="token comment">// TuyaSmartFirmwareUpgradeModel - type</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>device upgradeFirmware<span class="token punctuation">:</span>type success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;upgradeFirmware success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;upgradeFirmware failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">upgradeFirmware</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// type: get firmware type from getFirmwareUpgradeInfo interface</span>
    <span class="token comment">// TuyaSmartFirmwareUpgradeModel - type</span>

    device<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">upgradeFirmware</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;upgradeFirmware success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;upgradeFirmware failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Callback Interface</p>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>deviceFirmwareUpgradeSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDevice <span class="token operator">*</span><span class="token punctuation">)</span>device type<span class="token punctuation">:</span><span class="token punctuation">(</span>NSInteger<span class="token punctuation">)</span>type <span class="token punctuation">{</span>
    <span class="token comment">// firmware upgrade success</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>deviceFirmwareUpgradeFailure<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDevice <span class="token operator">*</span><span class="token punctuation">)</span>device type<span class="token punctuation">:</span><span class="token punctuation">(</span>NSInteger<span class="token punctuation">)</span>type <span class="token punctuation">{</span>
    <span class="token comment">// firmware upgrade failure</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>device<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDevice <span class="token operator">*</span><span class="token punctuation">)</span>device firmwareUpgradeProgress<span class="token punctuation">:</span><span class="token punctuation">(</span>NSInteger<span class="token punctuation">)</span>type progress<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>progress <span class="token punctuation">{</span>
    <span class="token comment">// firmware upgrade progress</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">deviceFirmwareUpgradeSuccess</span><span class="token punctuation">(</span><span class="token number">_</span> device<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartDevice</span><span class="token operator">!</span><span class="token punctuation">,</span> type<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// firmware upgrade success</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">deviceFirmwareUpgradeFailure</span><span class="token punctuation">(</span><span class="token number">_</span> device<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartDevice</span><span class="token operator">!</span><span class="token punctuation">,</span> type<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// firmware upgrade failure</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">device</span><span class="token punctuation">(</span><span class="token number">_</span> device<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartDevice</span><span class="token operator">!</span><span class="token punctuation">,</span> firmwareUpgradeProgress type<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> progress<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// firmware upgrade progress</span>
<span class="token punctuation">}</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Activator.html#qr-code-mode" class="navigation navigation-prev " aria-label="Previous page: QR code mode">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Device.html#update-device-information" class="navigation navigation-next " aria-label="Next page: Update Device Information">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Device Management","level":"1.10","depth":1,"next":{"title":"Update Device Information","level":"1.10.1","depth":2,"anchor":"#update-device-information","path":"resource/Device.md","ref":"./resource/Device.md#update-device-information","articles":[]},"previous":{"title":"QR code mode","level":"1.9.5","depth":2,"anchor":"#qr-code-mode","path":"resource/Activator.md","ref":"./resource/Activator.md#qr-code-mode","articles":[]},"dir":"ltr"},"config":{"plugins":["js-sequence-diagram-full@>=0.3.1","prism","-highlight","anchors","splitter","github","anchor-navigation-ex","ga","expandable-chapters-small","pageview-count","language-picker"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-okaidia.css"],"lang":{"oc":"objectivec","objc":"objectivec","objective-c":"objectivec"},"ignore":["sequence"]},"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/TuyaInc/tuyasmart_home_ios_sdk"},"splitter":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"js-sequence-diagram-full":{},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":false,"showLevel":true},"pageview-count":{},"expandable-chapters-small":{},"ga":{"configuration":"auto","token":"UA-165828612-1"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/Device.md","mtime":"2020-05-12T13:51:19.212Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-05-12T13:52:07.759Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

